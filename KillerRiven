require("Inspired")
require("IWalk")

local RANGE_Q = 260
local RANGE_W = 100
local RANGE_E = 325
local RANGE_R = 900

AddInfo("Riven", "Riven:")
AddButton("Q", "Use Q", true)
AddButton("W", "Use W", true)
AddButton("E", "Use E", true)
AddButton("R", "Use R", true)

OnLoop(function(myHero)
        IWalk()

	if GetKeyValue("Combo") then
	local target = GetTarget(1200, DAMAGE)
	    if ValidTarget(target, 1200) then
		local QPred = GetPredictionForPlayer(GetMyHeroPos(),target,GetMoveSpeed(target),1200,125,1200,65,true,true)
		local RPred = GetPredictionForPlayer(GetMyHeroPos(),target,GetMoveSpeed(target),900,900,900,900,true,true)
		local EPred = GetPredictionForPlayer(GetMyHeroPos(),target,GetMoveSpeed(target),100,100,100,100,true,true)
		
		if GetButtonValue("Q") then
                 if CanUseSpell(myHero, _Q) == READY and QPred.HitChance == 1 then
                 CastSkillShot(_Q,QPred.PredPos.x,QPred.PredPos.y,QPred.PredPos.z)
	         end
                end
			
		if GetButtonValue("W") then
                 if CanUseSpell(myHero, _W) == READY then
                 CastTargetSpell(target, _W)
		 end
				end
			
		if GetButtonValue("E") then
                 if CanUseSpell(myHero, _E) == READY and EPred.HitChance == 1 then
                 CastTargetSpell(target, _E)
		 end
                end
			
		if GetButtonValue("R") then
	         if CanUseSpell(myHero, _R) == READY and RPred.HitChance == 1 then
                 CastTargetSpell(target, _R)
                 
		 end
                end
	    end
	end	
end)
